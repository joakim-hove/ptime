#!/usr/bin/env python
from ptime.client import get
import sys

def print_completed_task(task):
    s = "Completed task: {0:16}   {1:02d}:{2:02d} -- {3:02d}:{4:02d}  [{5} hours {6} minutes]".format( task.project,
                                                                                                       task.start_time.hour,
                                                                                                       task.start_time.minute,
                                                                                                       task.end_time.hour,
                                                                                                       task.end_time.minute,
                                                                                                       task.duration.hours,
                                                                                                       task.duration.minutes)
    print(s)


def print_started_task(task):
    s = "Started task:   {0:16}   {1:02d}:{2:02d} -- ".format( task.project,
                                                               task.start_time.hour,
                                                               task.start_time.minute)
    print(s)



response = get(sys.argv[1:])

if response.completed_task:
    print_completed_task(response.completed_task)
else:
    if response.started_task is None:
        print("No task active")



if response.started_task:
    print_started_task(response.started_task)

